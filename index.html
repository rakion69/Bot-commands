<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="common.css">
  <link id="themeStylesheet" rel="stylesheet" href="style.css">
  <link rel="icon" href="img/icon.ico" type="image/x-icon">
  <title>Comandi Bot</title>
</head>
<body>
    <header>
      <select id="themeSelector">
      <option value="style.css">Default ðŸŒˆ</option>
      <option value="theme-dark.css">Dark Mode ðŸŒ™</option>
      <option value="theme-amoled.css">AMOLED Dark ðŸ–¤</option>

      </select>
    </header>

  <h1>Comandi del Bot</h1>
  <div class="cards-container"></div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const selector = document.getElementById('themeSelector');
      const stylesheet = document.getElementById('themeStylesheet');

      const savedTheme = localStorage.getItem('selectedTheme');
      if (savedTheme) {
        stylesheet.setAttribute('href', savedTheme);
        selector.value = savedTheme;
      }

      selector.addEventListener('change', function () {
        const selected = this.value;
        stylesheet.setAttribute('href', selected);
        localStorage.setItem('selectedTheme', selected);
      });
    });
  </script>
  
  <script>
    fetch('comandi.json')
      .then(response => response.json())
      .then(data => {
        const container = document.querySelector('.cards-container');
        data.forEach(cmd => {
          const card = document.createElement('div');
          card.className = 'card';
      // Se c'Ã¨ un'immagine, aggiungila
          if (cmd.img) {
            const img = document.createElement('img');
            img.src = cmd.img;
            img.className = 'icon'; // se vuoi usare lo stile CSS che abbiamo fatto
            card.appendChild(img);
          }
          const title = document.createElement('h2');
          title.textContent = cmd.nome;
          card.appendChild(title);

          const desc = document.createElement('p');
          desc.textContent = cmd.descrizione;
          card.appendChild(desc);

          if (cmd.personaggi && cmd.personaggi.length > 0) {
            const strong = document.createElement('strong');
            strong.textContent = 'Personaggi:';
            card.appendChild(strong);

            const ul = document.createElement('ul');
            cmd.personaggi.forEach(p => {
              const li = document.createElement('li');
              li.textContent = p;
              ul.appendChild(li);
            });
            card.appendChild(ul);
          }

          container.appendChild(card);
        });
      })
      .catch(err => {
        document.getElementById('container').textContent = 'Errore nel caricamento dei comandi.';
        console.error(err);
      });
  </script>

  <script>
  const selector = document.getElementById('themeSelector');
  const stylesheet = document.getElementById('themeStylesheet');

  selector.addEventListener('change', function () {
    stylesheet.setAttribute('href', this.value);
  });

  // Imposta il tema iniziale
  document.body.classList.add('style');
</script>



</body>
</html>
